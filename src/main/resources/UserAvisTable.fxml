<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.esprit.jdbc.controllers.UserAvisController"
            style="-fx-background-color: #f4f4f4;">

    <!-- Scrollable Content -->
    <ScrollPane fitToWidth="true" fitToHeight="true" prefHeight="600" prefWidth="800"
                style="-fx-background: transparent;">
        <AnchorPane>
            <VBox alignment="CENTER" spacing="15" prefWidth="800" layoutX="10" layoutY="10">

                <!-- Search Bar -->
                <HBox spacing="10" style="-fx-padding: 10;">
                    <TextField fx:id="searchTextField" promptText="🔍 Search..."
                               style="-fx-pref-width: 300px; -fx-font-size: 14px; -fx-background-radius: 8px;"/>
                    <Button text="Search" onAction="#searchAvis"
                            style="-fx-background-color: #0078D7; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8px;" />
                </HBox>

                <!-- Table View -->
                <TableView fx:id="tableAvis" prefWidth="750"
                           style="-fx-border-radius: 10px; -fx-background-radius: 10px; -fx-background-color: white; -fx-padding: 10;">
                    <columns>
                        <TableColumn fx:id="colNote" text="⭐ Note" />
                        <TableColumn fx:id="colCommentaire" text="💬 Commentaire" />
                        <TableColumn fx:id="colDate" text="📅 Date" />
                        <TableColumn fx:id="colEdit" text="✏ Edit" />
                        <TableColumn fx:id="colDelete" text="❌ Delete" />
                        <TableColumn fx:id="colViewResponses" text="🔎 View Responses" />
                    </columns>
                </TableView>

                <!-- Pagination Control -->
                <Pagination fx:id="pagination" pageCount="1"
                            style="-fx-background-color: white; -fx-border-radius: 8px; -fx-padding: 5px;"/>

                <!-- Add Avis Button -->
                <HBox spacing="10" style="-fx-padding: 10;">
                    <Button text="➕ Ajouter" onAction="#addAvis"
                            style="-fx-background-color: #28A745; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8px;"/>
                </HBox>

                <!-- Chatbot Section -->
                <VBox spacing="10" style="-fx-border-color: #B0C4DE; -fx-border-width: 2px; -fx-background-color: white; -fx-border-radius: 10px; -fx-padding: 15;">
                    <Label text="🤖 Chatbot Assistant"
                           style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #333;" />

                    <TextArea fx:id="chatArea" editable="false" wrapText="true" prefHeight="200" prefWidth="750"
                              style="-fx-background-color: #f9f9f9; -fx-border-radius: 8px;"/>

                    <HBox spacing="10">
                        <TextField fx:id="inputField" promptText="Type a message..."
                                   style="-fx-pref-width: 650px; -fx-font-size: 14px; -fx-background-radius: 8px;"/>
                        <Button text="📩 Send" onAction="#sendMessage"
                                style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8px;" />
                    </HBox>
                </VBox>

            </VBox>
        </AnchorPane>
    </ScrollPane>

</AnchorPane>
