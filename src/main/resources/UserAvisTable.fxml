<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.esprit.jdbc.controller.UserAvisController">

    <!-- Scrollable Content -->
    <ScrollPane fitToWidth="true" fitToHeight="true" prefHeight="600" prefWidth="800">
        <AnchorPane>
            <VBox alignment="CENTER" spacing="15" prefWidth="800" layoutX="10" layoutY="10">

                <!-- Search Bar -->
                <HBox spacing="10">
                    <TextField fx:id="searchTextField" promptText="Search..." />
                    <Button text="Search" onAction="#searchAvis" style="-fx-background-color: #87CEEB;" />
                </HBox>

                <!-- Table View -->
                <TableView fx:id="tableAvis" prefWidth="750">
                    <columns>
                        <TableColumn fx:id="colNote" text="Note" />
                        <TableColumn fx:id="colCommentaire" text="Commentaire" />
                        <TableColumn fx:id="colDate" text="Date" />
                        <TableColumn fx:id="colEdit" text="Edit" />
                        <TableColumn fx:id="colDelete" text="Delete" />
                        <TableColumn fx:id="colViewResponses" text="View Responses" />
                    </columns>
                </TableView>

                <!-- Pagination Control -->
                <Pagination fx:id="pagination" pageCount="1" />

                <!-- Add Avis Button -->
                <HBox spacing="10">
                    <Button text="Ajouter" onAction="#addAvis" style="-fx-background-color: #87CEEB;" />
                </HBox>

                <!-- Chatbot Section -->
                <VBox spacing="10" style="-fx-border-color: #B0C4DE; -fx-border-width: 2; -fx-padding: 10;">
                    <Label text="Chatbot Assistant" style="-fx-font-size: 16px; -fx-font-weight: bold;" />

                    <TextArea fx:id="chatArea" editable="false" wrapText="true" prefHeight="200" prefWidth="750" />

                    <HBox spacing="10">
                        <TextField fx:id="inputField" promptText="Ask me something..." />
                        <Button text="Send" onAction="#sendMessage" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" />
                    </HBox>
                </VBox>

            </VBox>
        </AnchorPane>
    </ScrollPane>

</AnchorPane>
